import streamlit as st

st.set_page_config(page_title="–ö–≤–∏–∑-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä A25", page_icon="‚ú®", layout="centered")

st.title("–ö–≤–∏–∑-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä A25 Studio")
st.write("–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∏ –º—ã –ø–æ–¥–±–µ—Ä–µ–º –¥–ª—è –≤–∞—Å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ç–∞—Ä–∏—Ñ –∏ —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å.")

# --- –í–≤–æ–¥ ---
area = st.number_input("–ü–ª–æ—â–∞–¥—å –æ–±—ä–µ–∫—Ç–∞ (–º¬≤)", min_value=10, max_value=1000, step=1, value=50)

location = st.radio("–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–±—ä–µ–∫—Ç?", ["–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ / –õ–µ–Ω–æ–±–ª–∞—Å—Ç—å", "–ó–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –õ–û"])
obj_type = st.selectbox("–ß—Ç–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º?", [
    "–ú–∞–ª–µ–Ω—å–∫–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ / —Å—Ç—É–¥–∏—è",
    "–ö–≤–∞—Ä—Ç–∏—Ä–∞ —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏",
    "–ë–æ–ª—å—à–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ / –¥–æ–º",
    "–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ"
])
visualization = st.radio("–ö–∞–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω—É–∂–Ω–∞?", [
    "–¢–æ–ª—å–∫–æ 2D-–∫–æ–ª–ª–∞–∂–∏ (3 –ø—Ä–∞–≤–∫–∏)",
    "3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–¥–æ 3 –ø—Ä–∞–≤–æ–∫)",
    "3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∫–∏)"
])
author_supervision = st.radio("–ê–≤—Ç–æ—Ä—Å–∫–∏–π –Ω–∞–¥–∑–æ—Ä –∏ –≤—ã–µ–∑–¥—ã", [
    "–ù–µ—Ç, —Ç–æ–ª—å–∫–æ –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ",
    "–†–∞–∑–æ–≤—ã–π –≤—ã–µ–∑–¥",
    "–ê–≤—Ç–æ—Ä—Å–∫–∏–π –Ω–∞–¥–∑–æ—Ä (—Ä–µ–≥—É–ª—è—Ä–Ω–æ)",
    "–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ"
])
complect = st.radio("–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞", [
    "–ù–µ—Ç / —Ç–æ–ª—å–∫–æ –ø–æ–º–æ—â—å",
    "–ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è",
    "–ü–æ–ª–Ω–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è (–∑–∞–∫–∞–∑—ã, –ø—Ä–∏–µ–º–∫–∞)"
])
acceptance = st.checkbox("–ü—Ä–∏–µ–º–∫–∞ —Ç–æ–≤–∞—Ä–∞ (900 —Ä—É–±/–º¬≤)")
extra_exit = st.checkbox("–î–æ–ø. –≤—ã–µ–∑–¥ (2900 —Ä—É–±)")

budget_level = st.radio("–ë—é–¥–∂–µ—Ç –Ω–∞ –ø—Ä–æ–µ–∫—Ç", [
    "–ù–∏–∑–∫–∏–π (‚â§2750 —Ä—É–±/–º¬≤)",
    "–°—Ä–µ–¥–Ω–∏–π (2751‚Äì4750 —Ä—É–±/–º¬≤)",
    "–í—ã—Å–æ–∫–∏–π (‚â•4751 —Ä—É–±/–º¬≤)"
])
urgency = st.radio("–°—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è", [
    "–ë–æ–ª—å—à–µ 6 –º–µ—Å—è—Ü–µ–≤",
    "2‚Äì6 –º–µ—Å—è—Ü–µ–≤",
    "–î–æ 2 –º–µ—Å—è—Ü–µ–≤ (—Å—Ä–æ—á–Ω–æ)"
])
wishes = st.multiselect("–î–æ–ø. –ø–æ–∂–µ–ª–∞–Ω–∏—è", ["360¬∞-—Ç—É—Ä", "–í–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ", "–°–∫–∏–¥–∫–∏ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—ã", "–†–∞—Å—Å—Ä–æ—á–∫–∞"])

# --- –ü–æ–¥—Å—á—ë—Ç ---
scores = {
    "location": 0 if location == "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ / –õ–µ–Ω–æ–±–ª–∞—Å—Ç—å" else 1,
    "obj": {"–ú–∞–ª–µ–Ω—å–∫–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ / —Å—Ç—É–¥–∏—è": 1, "–ö–≤–∞—Ä—Ç–∏—Ä–∞ —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏": 3,
            "–ë–æ–ª—å—à–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞ / –¥–æ–º": 5, "–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ": 8}[obj_type],
    "visualization": {"–¢–æ–ª—å–∫–æ 2D-–∫–æ–ª–ª–∞–∂–∏ (3 –ø—Ä–∞–≤–∫–∏)": 1,
                      "3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–¥–æ 3 –ø—Ä–∞–≤–æ–∫)": 5,
                      "3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∫–∏)": 12}[visualization],
    "author": {"–ù–µ—Ç, —Ç–æ–ª—å–∫–æ –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ": 0,
               "–†–∞–∑–æ–≤—ã–π –≤—ã–µ–∑–¥": 1,
               "–ê–≤—Ç–æ—Ä—Å–∫–∏–π –Ω–∞–¥–∑–æ—Ä (—Ä–µ–≥—É–ª—è—Ä–Ω–æ)": 4,
               "–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ": 6}[author_supervision],
    "complect": {"–ù–µ—Ç / —Ç–æ–ª—å–∫–æ –ø–æ–º–æ—â—å": 0,
                 "–ß–∞—Å—Ç–∏—á–Ω–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è": 3,
                 "–ü–æ–ª–Ω–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è (–∑–∞–∫–∞–∑—ã, –ø—Ä–∏–µ–º–∫–∞)": 12}[complect],
    "budget": {"–ù–∏–∑–∫–∏–π (‚â§2750 —Ä—É–±/–º¬≤)": 1,
               "–°—Ä–µ–¥–Ω–∏–π (2751‚Äì4750 —Ä—É–±/–º¬≤)": 4,
               "–í—ã—Å–æ–∫–∏–π (‚â•4751 —Ä—É–±/–º¬≤)": 7}[budget_level],
    "urgency": {"–ë–æ–ª—å—à–µ 6 –º–µ—Å—è—Ü–µ–≤": 0,
                "2‚Äì6 –º–µ—Å—è—Ü–µ–≤": 1,
                "–î–æ 2 –º–µ—Å—è—Ü–µ–≤ (—Å—Ä–æ—á–Ω–æ)": 3}[urgency],
    "wishes": len(wishes)
}
score = sum(scores.values())

price_std = area * 2500
price_opt = area * 3500
price_max = area * 6000
if acceptance:
    price_std += area * 900
    price_opt += area * 900
    price_max += area * 900
if extra_exit:
    price_std += 2900
    price_opt += 2900
    price_max += 2900

# –°—Ä–æ–∫–∏
if area <= 50:
    timeline = "2‚Äì2.5 –º–µ—Å—è—Ü–∞"
elif area <= 120:
    timeline = "2.5‚Äì3.5 –º–µ—Å—è—Ü–∞"
else:
    timeline = "–æ—Ç 3.5 –º–µ—Å—è—Ü–µ–≤"

# –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∞
if complect == "–ü–æ–ª–Ω–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è (–∑–∞–∫–∞–∑—ã, –ø—Ä–∏–µ–º–∫–∞)" or visualization == "3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∫–∏)":
    tariff, price = "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π", price_max
elif score >= 25:
    tariff, price = "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π", price_max
elif score >= 10:
    tariff, price = "–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π", price_opt
else:
    tariff, price = "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π", price_std

st.subheader("‚úÖ –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç:")
st.markdown(f"""
**üéØ –¢–∞—Ä–∏—Ñ:** {tariff}  
**üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:** {price:,.0f} —Ä—É–±  
**‚è∞ –°—Ä–æ–∫–∏:** {timeline}  
**üìä Score:** {score}
""")
st.success("–†–∞—Å—á–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!")
